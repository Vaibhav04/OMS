<div class="backdrop" (click)="close()"></div>

<div class="order-form-modal">
  <div class="order-form-modal__header">
    <h2>{{ formType === "add" ? "Add" : "Edit" }} Order</h2>
    <span (click)="close()">
      <fa-icon [icon]="icons.faClose" [size]="'2x'"></fa-icon>
    </span>
  </div>

  <form [formGroup]="orderForm" (submit)="submitForm()">
    <div class="form-group">
      <label for="customer-name">Customer Name</label>
      <input
        type="text"
        class="form-control"
        id="customer-name"
        placeholder="Customer Name"
        formControlName="customerName"
      />
      <div
        *ngIf="
          customerName?.invalid &&
          (customerName?.dirty || customerName?.touched)
        "
      >
        <p class="error" *ngIf="customerName?.errors?.['required']">
          Customer name is required
        </p>
      </div>
    </div>
    <div class="form-group">
      <label for="date">Due date</label>
      <input
        type="date"
        class="form-control"
        id="date"
        formControlName="dueDate"
      />
      <div *ngIf="dueDate?.invalid && (dueDate?.dirty || dueDate?.touched)">
        <p class="error" *ngIf="dueDate?.errors?.['required']">
          Due date is required
        </p>
      </div>
    </div>
    <div class="form-group">
      <label for="address">Address</label>
      <textarea
        type="address"
        class="form-control"
        id="address"
        placeholder="Customer Address"
        formControlName="customerAddress"
      ></textarea>
      <div
        *ngIf="
          customerAddress?.invalid &&
          (customerAddress?.dirty || customerAddress?.touched)
        "
      >
        <p class="error" *ngIf="customerAddress?.errors?.['required']">
          Customer Address is required
        </p>
      </div>
    </div>
    <div class="form-group">
      <label for="customer-number">Phone</label>
      <input
        type="tel"
        class="form-control"
        id="customer-number"
        placeholder="Customer Phone"
        formControlName="phone"
      />
      <div *ngIf="phone?.invalid && (phone?.dirty || phone?.touched)">
        <p class="error" *ngIf="phone?.errors?.['required']">
          Phone Number is required
        </p>
      </div>
    </div>
    <div class="form-group">
      <label for="amount">Order Total</label>
      <input
        type="number"
        class="form-control"
        id="amount"
        placeholder="Order Total"
        formControlName="price"
      />
      <div *ngIf="price?.invalid && (price?.dirty || price?.touched)">
        <p class="error" *ngIf="price?.errors?.['required']">
          Please enter order price.
        </p>
      </div>
    </div>
    <button
      type="submit"
      class="btn button-primary"
      [disabled]="!orderForm.valid"
    >
      Submit
    </button>
  </form>
</div>
